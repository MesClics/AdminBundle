{"version":3,"sources":["findAncestor.js","loader.js","popup-close.js","messageSentClassAdder.js","slideshow.js","filters.js","clickableTableRow.js","sortByColumn.js","widgets.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"compiled.js","sourcesContent":["// Find the closest ancestor of el with class cls\r\n\r\nfunction findAncestor(el, cls) {\r\n    while ((el = el.parentElement) && !el.classList.contains(cls));\r\n    return el;\r\n}","var loader = document.querySelector(\".loader\");\r\nvar animationOn = false;\r\n\r\n// //on v√©rifie s'il y a un form nouveau message\r\n// var newMsg = document.querySelector(\".message-form__d__new\");\r\n\r\n// //on ajoute un eventlistener sur l'animation\r\n// newMsg.addEventListener('animationstart', function(e){\r\n//     animationOn = true;\r\n// });\r\n\r\n// newMsg.addEventListener('animationend', function(e){\r\n//     animationOn = false;\r\n//     loaderClassAdder();\r\n// })\r\n\r\nfunction loaderClassAdd() {\r\n    loader.classList.add(\"loader-active\");    \r\n}\r\n\r\nfunction loaderClassRemove(){\r\n    loader.addEventListener('animationiteration', function(e){\r\n        e.target.classList.remove(\"loader-active\");\r\n    });\r\n\r\n    loader.addEventListener('webkitAnimationIteration', function (e) {\r\n        e.target.classList.remove(\"loader-active\");\r\n    });\r\n\r\n    loader.addEventListener('MSAnimationIteration', function (e) {\r\n        e.target.classList.remove(\"loader-active\");\r\n    });\r\n    \r\n    \r\n    // loader.classList.remove(\"loader-active\");\r\n}\r\n\r\nwindow.addEventListener('beforeunload', function(e){\r\n\r\n    if(animationOn){\r\n        return;\r\n    }\r\n\r\n    //check if popup is active\r\n    var popup = document.querySelector('.popup');\r\n    if(popup && !popup.classList.contains('closed')){\r\n        popup.classList.add('closed');\r\n    }\r\n    loaderClassAdd();\r\n});\r\n\r\nwindow.addEventListener('load', function (e) {\r\n    if(loader.classList.contains(\"loader-active\")){\r\n        loaderClassRemove();\r\n    }\r\n});\r\n","var closeButtons = document.querySelectorAll(\".popup-close\");\r\n\r\ncloseButtons.forEach(function(element){\r\n    element.addEventListener(\"click\", function(event){\r\n        closePopup(event.target);\r\n    });\r\n})\r\n\r\nfunction closePopup(element){\r\n    var popup = findAncestor(element, \"popup\");\r\n    popup.classList.add(\"closed\");\r\n}\r\n\r\nfunction submitAfterAnimation(form){\r\n    form.addEventListener(\"webkitAnimationEnd\", function(event){\r\n        event.target.submit();\r\n    })\r\n    form.addEventListener(\"animationend\", function(event){\r\n        event.target.submit();\r\n    })\r\n}","var form = document.querySelector('.message-form__d__new');\r\nvar hasBeenAnimated = false;\r\n\r\nfunction messageAddClass(e){\r\n    e.target.classList.add('message-form__d__new__s__sent');\r\n    hasBeenAnimated = true;\r\n}\r\n\r\nif(form && !hasBeenAnimated){\r\n    form.addEventListener('submit', function (e) {\r\n            messageAddClass(e);\r\n    });\r\n};","var slideshows = document.querySelectorAll(\".oocss-slideshow\");\r\n\r\nfor (let i = 0; i < slideshows.length; i++) {\r\n    //variables\r\n    let slideshow = slideshows[i];\r\n    let steps = slideshow.querySelectorAll(\".oocss-slideshow--step\");\r\n    let slideshowContent = slideshow.querySelector(\".oocss-slideshow--content\");\r\n    let slider = slideshow.querySelector(\".oocss-slideshow--slider\");\r\n    let cursors = slider.querySelector(\".oocss-slideshow--cursors\");\r\n    let prevBtn = slideshow.querySelector(\".oocss-slideshow--prev\");\r\n    let nextBtn = slideshow.querySelector(\".oocss-slideshow--next\");\r\n\r\n    //functions\r\n    function isNotRadio(elt){\r\n        if(elt.getAttribute('type') != \"radio\"){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function handleFocus(step) {\r\n        step.setAttribute(\"tabindex\", null);\r\n        let childrenElts = step.querySelectorAll('input,textarea,button,select');\r\n        if (childrenElts.length > 0) {\r\n            for (let i = 0; i < childrenElts.length; i++) {\r\n                childElt = childrenElts[i];\r\n                childElt.addEventListener(\"keydown\", function (e) {\r\n                    if (e.shiftKey && e.keyCode == 9) {\r\n                        if (i == 0) {\r\n                            //check if prevBtn display is not none\r\n                            if (prevBtn.style.display !== \"none\") {\r\n                                e.preventDefault();\r\n                                clickOnPrevBtn();\r\n                            }\r\n                        }\r\n                    } else if (e.keyCode == 9 || e.keyCode == 13) {\r\n                        if (i === childrenElts.length - 1) {\r\n                            if (nextBtn.style.display !== \"none\") {\r\n                                e.preventDefault();\r\n                                clickOnNextBtn();\r\n                            }\r\n                        } else if (i == 0) {\r\n                            e.preventDefault();\r\n                            if(isNotRadio(childrenElts[i])){\r\n                                //get next input and select\r\n                                childrenElts[i + 1].select();\r\n                            } else{\r\n                                clickOnNextBtn();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    function clickOnCursor(step) {\r\n        let stepOrder = step.getAttribute(\"data-step-order\");\r\n        slideTo(stepOrder);\r\n    }\r\n\r\n    function getHTMLOrder(step) {\r\n        let steps = slideshow.querySelectorAll(\".oocss-slideshow--step\");\r\n        for (i = 0; i < steps.length; i++) {\r\n            if (steps[i] == step) {\r\n                return i;\r\n            }\r\n        }\r\n    }\r\n\r\n    function slideTo(stepNb) {\r\n        let step = slideshowContent.querySelector(\"[data-step-order='\" + stepNb + \"']\");\r\n        if (!step) {\r\n            // console.log(\"pas de data-step-order\");\r\n            step = steps[stepNb - 1];\r\n        }\r\n        let stepHTMLOrder = getHTMLOrder(step);\r\n        let translateX = \"calc(-1 * \" + window.getComputedStyle(slideshowContent).width + \" * \" + (stepHTMLOrder) + \")\";\r\n        slideshowContent.style.transform = \"translateX(\" + translateX + \")\";\r\n        slideshow.setAttribute(\"data-active-step\", stepNb);\r\n\r\n        //hide prevBtn or Next Btn if first or last step\r\n        if (stepNb == 1) {\r\n            prevBtn.style.display = \"none\";\r\n        } else {\r\n            prevBtn.style.display = \"block\";\r\n        }\r\n        if (stepNb == steps.length) {\r\n            nextBtn.style.display = \"none\";\r\n        } else {\r\n            nextBtn.style.display = \"block\";\r\n        }\r\n\r\n        //add active class to active cursor item\r\n        let cursorItems = cursors.querySelectorAll(\".oocss-slideshow--cursor\");\r\n        for (let n = 1; n <= cursorItems.length; n++) {\r\n            if (n == stepNb) {\r\n                cursorItems[n - 1].classList.add(\"active\");\r\n            } else {\r\n                cursorItems[n - 1].classList.remove(\"active\");\r\n            }\r\n        };\r\n\r\n        //focus on first element;\r\n        //let step = slideshow.querySelector(\"[data-step-order='\" + stepNb + \"']\");\r\n        let stepFirstFocusableChild = step.querySelectorAll('input,textarea,button,radio')[0];\r\n\r\n        if (stepFirstFocusableChild) {\r\n            stepFirstFocusableChild.select();\r\n        }\r\n    }\r\n\r\n    function clickOnPrevBtn() {\r\n        let activeStep = slideshow.getAttribute(\"data-active-step\");\r\n        activeStep--;\r\n        slideTo(activeStep);\r\n    }\r\n\r\n    function clickOnNextBtn() {\r\n        let activeStep = slideshow.getAttribute(\"data-active-step\");\r\n        activeStep++;\r\n        slideTo(activeStep);\r\n    }\r\n\r\n    function rewindSlideshow() {\r\n        slideTo(1);\r\n    }\r\n\r\n    function autoplaySlideshow() {\r\n        let speed = null;\r\n        if (slideshow.getAttribute(\"autoplay\") && slideshow.getAttribute(\"autoplay\") == \"true\") {\r\n            speed = parseInt(slideshow.getAttribute(\"data-slideshow-speed\"));\r\n            //set a default speed value in ms\r\n            if (!speed) {\r\n                speed = 5000;\r\n            }\r\n        };\r\n        if (speed) {\r\n            setInterval(function () {\r\n                autoSlide();\r\n            }, speed);\r\n        }\r\n    }\r\n\r\n    function autoSlide() {\r\n        let steps = slideshow.querySelectorAll(\".oocss-slideshow--step\");\r\n        let currentActiveStep = slideshow.getAttribute(\"data-active-step\");\r\n        let nextStep = (parseInt(currentActiveStep) + 1);\r\n\r\n        if (nextStep <= steps.length) {\r\n            slideTo(nextStep);\r\n        } else {\r\n            rewindSlideshow();\r\n        }\r\n    }\r\n\r\n    //on page load check for slider && rewind slideshow\r\n    window.addEventListener(\"load\", function (e) {\r\n        //Create prev btn, next btn and cursor divs if not present\r\n        if (prevBtn == null) {\r\n            let prevBtn = document.createElement(\"button\");\r\n            prevBtn.classList.add(\"oocss-slideshow--prev\");\r\n            prevBtn.textContent = \"‚Üê\";\r\n            slider.append(prevBtn);\r\n        }\r\n        if (cursors == null) {\r\n            let cursors = document.createElement(\"div\");\r\n            cursors.classList.add(\"oocss-slideshow--cursors\");\r\n            slider.append(cursors);\r\n        }\r\n        if (nextBtn == null) {\r\n            let nextBtn = document.createElement(\"button\");\r\n            nextBtn.classList.add(\"oocss-slideshow--next\");\r\n            nextBtn.textContent = \"‚Üí\";\r\n            slider.append(nextBtn);\r\n        }\r\n\r\n        prevBtn = slideshow.querySelector(\".oocss-slideshow--prev\");\r\n        cursors = slideshow.querySelector(\".oocss-slideshow--cursors\");\r\n        nextBtn = slideshow.querySelector(\".oocss-slideshow--next\");\r\n\r\n        //add listener on prev and next btns\r\n        prevBtn.addEventListener(\"click\", function (e) {\r\n            clickOnPrevBtn();\r\n        });\r\n        nextBtn.addEventListener(\"click\", function (e) {\r\n            clickOnNextBtn();\r\n        });\r\n\r\n\r\n        //set the grid-template-columns of the slideshow-content block based on the steps number  \r\n        slideshowContent.style.gridTemplateColumns = \"repeat(\" + steps.length + \", 100%)\";\r\n\r\n        for (let n = 0; n < steps.length; n++) {\r\n            let step = steps[n];\r\n            //set the slideshow--slider based on the number of steps\r\n            let cursor = document.createElement(\"button\");\r\n            cursor.classList.add(\"oocss-slideshow--cursor\");\r\n            cursor.setAttribute(\"data-step-order\", (n + 1));\r\n\r\n\r\n            //add listeners on button click\r\n            cursor.addEventListener(\"click\", function (e) {\r\n                clickOnCursor(e.target);\r\n            });\r\n            cursors.append(cursor);\r\n            //handle Focus on each step child element\r\n            handleFocus(step);\r\n        }\r\n\r\n        rewindSlideshow();\r\n        autoplaySlideshow();\r\n    });\r\n\r\n\r\n}","window.addEventListener(\"load\", function () {\r\n    let filters = document.querySelectorAll(\".oocss-filters\");\r\n    let filtersList = new Object();\r\n\r\n    if (filters) {\r\n        let activeFilters = new Object();\r\n\r\n        function addActiveFitler(filter, filtersBlockClass, filterGroup) {\r\n            if (!activeFilters[filtersBlockClass][filterGroup]) {\r\n            }\r\n\r\n            activeFilters[filtersBlockClass][filterGroup].push(filter);\r\n            //console.log(activeFilters);\r\n        }\r\n\r\n        function removeActiveFilter(filter, filtersBlockClass, filterGroup) {\r\n            let updatedFilters = activeFilters[filtersBlockClass][filterGroup].filter(function (el) {\r\n                //console.log(filter, el);\r\n                return el != filter;\r\n            });\r\n            //console.log(updatedFilters);\r\n            activeFilters[filtersBlockClass][filterGroup] = updatedFilters;\r\n        }\r\n\r\n        function applyFiltersToList(filters, list) {\r\n            for (let i = 0; i < list.length; i++) {\r\n                let isFilterCompatible = null;\r\n                if (filters.length > 0) {\r\n                    isFilterCompatible = false;\r\n                    filters.forEach(function (f) {\r\n                        if (list[i].classList.contains(f.class)) {\r\n                            isFilterCompatible = true;\r\n                        }\r\n                    });\r\n                } else {\r\n                    isFilterCompatible = true;\r\n                }\r\n\r\n\r\n                if (isFilterCompatible === false) {\r\n                    list[i].classList.add(\"oocss-filtered-out\");\r\n                } else if (isFilterCompatible === true) {\r\n                    list[i].classList.remove(\"oocss-filtered-out\");\r\n                }\r\n            }\r\n\r\n            return list;\r\n        }\r\n\r\n        function resetFilters(list) {\r\n            for (let i = 0; i < list.length; i++) {\r\n                list[i].classList.remove(\"oocss-filtered-out\");\r\n            }\r\n            return list;\r\n        }\r\n\r\n        for (let i = 0; i < filters.length; i++) {\r\n            let filtersBlock = filters[i];\r\n            //get the filter target elts\r\n            let filterTargetBlockClass = filtersBlock.getAttribute(\"data-filters-target-class\");\r\n            if (!activeFilters[filterTargetBlockClass]) {\r\n                activeFilters[filterTargetBlockClass] = new Object();\r\n            }\r\n            activeFilters[filterTargetBlockClass][i] = new Array();\r\n\r\n            let filterTargetElts = document.querySelector('.' + filterTargetBlockClass).querySelectorAll(\".oocss-filterable\");\r\n            let filtersListValues = Object.values(filtersList);\r\n            let listAlreadyExists = filtersListValues.find(function (element) {\r\n                return element;\r\n            });\r\n            if (!listAlreadyExists) {\r\n                filtersList[filterTargetBlockClass] = filterTargetElts;\r\n            }\r\n\r\n\r\n            //insert title for filters block\r\n            let filtersTitleConfig = filtersBlock.getAttribute(\"data-filters-title\").split(\"/\");\r\n            let filtersTitleTag = filtersTitleConfig[0].split(\".\")[0];\r\n            let filtersTitleTagClass = filtersTitleConfig[0].split(\".\")[1];\r\n            let filtersTitle = filtersTitleConfig[1];\r\n            if (filtersTitle) {\r\n                let filtersBlockTitle = document.createElement(filtersTitleTag);\r\n                if (filtersTitleTagClass) {\r\n                    filtersBlockTitle.classList.add(filtersTitleTagClass);\r\n                }\r\n                filtersBlockTitle.textContent = filtersTitle;\r\n\r\n                filtersBlock.parentNode.insertBefore(filtersBlockTitle, filtersBlock);\r\n            }\r\n            //get the filters config and the button model\r\n            let config = filtersBlock.getAttribute(\"data-filters\").split(\"|\");\r\n            let filterButtonModel = filtersBlock.querySelector(\".oocss-filters-button\");\r\n\r\n            if (filterButtonModel) {\r\n                filterButtonModel.remove();\r\n            }\r\n            //forEach filters input, create one html button\r\n            for (let f = 0; f < config.length; f++) {\r\n                let filterStr = config[f].split(\"/\");\r\n                let filter = new Object();\r\n                filterStr.forEach(function (config) {\r\n                    let key = config.split(\":\")[0];\r\n                    let value = config.split(\":\")[1];\r\n                    filter[key] = value;\r\n                });\r\n\r\n\r\n                //get the button model and delete it from DOM\r\n                let filterButton = null;\r\n                if (filterButtonModel) {\r\n                    filterButton = filterButtonModel.cloneNode(true);\r\n                    let filterButtonTextContent = filterButton.querySelector('[data-filters-button-textContent]');\r\n                    filterButtonTextContent.textContent = filter.name;\r\n                } else {\r\n                    filterButton = document.createElement(\"button\");\r\n                    filterButton.classList.add(\"oocss-filters-button\");\r\n                    filterButton.textContent = filter.name;\r\n                }\r\n                //replace every @filter.class in children Nodes by filter.class property\r\n                filterButton.querySelectorAll(\".oocss-filters-button-class\").forEach(function (el) {\r\n                    el.classList.remove(\"oocss-filters-button-class\");\r\n                    el.classList.add(filter.class);\r\n                });\r\n\r\n\r\n                //add eventListeners to button\r\n                filterButton.addEventListener(\"click\", function (e) {\r\n                    let button = null\r\n                    if (e.target.classList.contains(\"oocss-filters-button\")) {\r\n                        button = e.target;\r\n                    } else {\r\n                        button = findAncestor(e.target, \"oocss-filters-button\");\r\n                    }\r\n                    let buttonEventActivate = new CustomEvent(\"activate\", { \"detail\": { \"filter\": filter } });\r\n                    let buttonEventDeactivate = new CustomEvent(\"deactivate\", { \"detail\": { \"filter\": filter } });\r\n                    button.classList.toggle(\"active\");\r\n\r\n                    //dipatch an Event on the button to handle the button activation.\r\n                    if (button.classList.contains(\"active\")) {\r\n                        filterButton.dispatchEvent(buttonEventActivate);\r\n                    } else {\r\n                        filterButton.dispatchEvent(buttonEventDeactivate);\r\n                    }\r\n                });\r\n\r\n                //append\r\n                filtersBlock.append(filterButton);\r\n\r\n                //listen on the activate event\r\n                filterButton.addEventListener(\"activate\", function (e) {\r\n                    //add an element to the activeFilters obj\r\n                    addActiveFitler(e.detail.filter, filterTargetBlockClass, i);\r\n                    let activeFiltersEvent = new CustomEvent(\"activeFiltersChange\", { \"detail\": { \"activeFilters\": activeFilters[filterTargetBlockClass], \"toBeFilteredList\": filtersList[filterTargetBlockClass] } });\r\n                    filtersBlock.dispatchEvent(activeFiltersEvent);\r\n                });\r\n\r\n                filterButton.addEventListener(\"deactivate\", function (e) {\r\n                    //remove the element from the activeFilters obj\r\n                    removeActiveFilter(e.detail.filter, filterTargetBlockClass, i);\r\n                    let activeFiltersEvent = new CustomEvent(\"activeFiltersChange\", { \"detail\": { \"activeFilters\": activeFilters[filterTargetBlockClass], \"toBeFilteredList\": filtersList[filterTargetBlockClass] } });\r\n                    filtersBlock.dispatchEvent(activeFiltersEvent);\r\n                });\r\n\r\n            }\r\n\r\n            filtersBlock.addEventListener(\"activeFiltersChange\", function (e) {\r\n\r\n                let filters = Object.values(e.detail.activeFilters);\r\n                let list = Array.from(e.detail.toBeFilteredList);\r\n                let noActiveFiltersInGroup = 0;\r\n\r\n                for (let i = 0; i < filters.length; i++) {\r\n                    if (filters[i].length > 0) {\r\n                        list = applyFiltersToList(filters[i], list);\r\n                        list = list.filter(function (el) {\r\n                            return !el.classList.contains(\"oocss-filtered-out\");\r\n                        });\r\n                    } else {\r\n                        noActiveFiltersInGroup++;\r\n\r\n                        if (noActiveFiltersInGroup == filters.length) {\r\n                            list = resetFilters(list);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n});","var clickableTableRows = document.querySelectorAll(\".oocss-clickable-table-row\");\r\n\r\nfor(let i = 0; i < clickableTableRows.length; i++){\r\n    let clickableTableRow = clickableTableRows[i];\r\n\r\n    let link = clickableTableRow.getElementsByTagName(\"a\")[0].getAttribute(\"href\");\r\n\r\n    if(link) {\r\n        clickableTableRow.addEventListener(\"click\", function (e) {\r\n            window.location.href = link;\r\n        });\r\n\r\n    }\r\n}","window.addEventListener(\"load\", function(e){\r\n    let sortableTables = document.getElementsByTagName(\"table\").querySelectorAll(\".oocss-sortable\");\r\n\r\n    console.log(\"sortable tables\", sortableTables);\r\n});","window.addEventListener(\"load\", function(e){\r\n    //get all oocss-widgets\r\n    let widgets = document.querySelectorAll(\".oocss-widget\");\r\n    function handleOpenClose(widget){\r\n        toggleOpenCloseClass(widget);\r\n    }\r\n\r\n    function toggleOpenCloseClass(elt){\r\n        if(elt.classList.contains(\"oocss-widget-opened\")){\r\n            elt.classList.remove(\"oocss-widget-opened\");\r\n            elt.classList.add(\"oocss-widget-closed\");\r\n        } else if(elt.classList.contains(\"oocss-widget-closed\")){\r\n            elt.classList.remove(\"oocss-widget-closed\");\r\n            elt.classList.add(\"oocss-widget-opened\");\r\n        }\r\n\r\n        console.log(elt);\r\n    }\r\n\r\n    widgets.forEach(function(widget){\r\n        if (!widget.classList.contains(\"oocss-widget-not-closable\")) {\r\n                //create an open/close div\r\n                let openClose = document.createElement(\"button\");\r\n                openClose.classList.add(\"oocss-widget-openclose\");\r\n                widgetHead = widget.querySelector(\".oocss-widget--head\");\r\n                if(widgetHead){               \r\n                    openClose.addEventListener(\"click\" ,function(e){\r\n                        handleOpenClose(widget)\r\n                    });\r\n                    widgetHead.append(openClose);\r\n\r\n                    widget.classList.add(\"oocss-widget-opened\");\r\n\r\n                }\r\n        }\r\n    })\r\n});"]}